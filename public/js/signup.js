/*! Tomcat360.com (c) 2015 
	Author: Renzhao
*/
define("signup",["log","form","modules/utils"],function(a){"use strict";var t=a("log"),s=t.log,e=a("form");new e("#signup-form",{rulers:[{name:"repassword",validator:function(a,t){var s=a,e=$("#password").val();return t.isTheSame(s,e)?{result:!0}:{result:!1,msg:"两次输入的密码不一致"}}},{name:"password",validator:function(a,t){return t.isEnough(a)&&$(".qiangdu span").eq(0).addClass("active").siblings().removeClass("active"),t.isMedium(a)&&$(".qiangdu span").eq(1).addClass("active").siblings().removeClass("active"),t.isStrong(a)&&$(".qiangdu span").eq(2).addClass("active").siblings().removeClass("active"),{result:!0}}}]}),function(){s("test"),$(".signup-form").submit(function(a){a.preventDefault();var t={name:$("#name").val(),password:$("#password").val(),email:$("#email").val()};$.ajax({type:"get",dataType:"json",url:ROOT_URL+"public/js/signup",data:t,success:function(a){alert("注册成功！"),window.location.href=ROOT_URL},error:function(){alert("ajax失败")}})})}(),function(){var t=a("modules/utils");$("#telphone").focusout(function(a){var s=$(this).val(),e=t.checkMobile(s);e.status||(alert(e.msg),$("#telphone").val(""))})}(),function(){var a="placeholder"in document.createElement("input"),t=function(a){var t=a.attr("placeholder"),s=a.defaultValue;s||a.val(t).addClass("phcolor"),a.focus(function(){a.val()==t&&$(this).val("")}),a.blur(function(){""==a.val()&&$(this).val(t).addClass("phcolor")}),a.keydown(function(){$(this).removeClass("phcolor")})};a||$("input").each(function(){text=$(this).attr("placeholder"),"text"==$(this).attr("type")&&t($(this)),"password"==$(this).attr("type")&&t($(this))})}()});